sudo: false
language: php
php:
- '7.0'
- '7.1'
- '7.2'
- nightly
matrix:
  fast_finish: true
  allow_failures:
  - php: nightly
before_install:
- phpenv config-rm xdebug.ini || true
- "[[ $GITHUB_TOKEN ]] && composer config --global github-oauth.github.com $GITHUB_TOKEN"
install: composer install --no-interaction
script: make ci
after_script: bash <(curl -s https://codecov.io/bash)
env:
  global:
    secure: cfB5IzcJsgv0F76yDnNM7NnoMaoYQZLkpiZMv5c/jnV/zz+O4t02OhfatllrJPxdnJgxtqpSJlMkErGmmiuDAG1Oh3TuHzzeaHfdeKwT72Ub82PW5ReiZR0ecYEAQKLyfzNuSzliG/5/wAXtKVOZNglq5X0D/1upeJSNxVb/Ui09sC2aHsoTWpKajcqaVrkXWr4GH6JSSav8ZwJ62fXXSkR9vCjXhDnoUvkktQrvB1mknM8HcQnl4gOJN3+vguB7Lk6f6V9YT3JDMRskfTUAjErii7A+jnxsR8vYxGuJ8pmpTAANyFyKSE4Ju/kgKFDtrOJfzmhDpfUSy3QW+8PTt+TYxycdyc7DKyJrEzlTu82EfdYwgPtEFnsQIrRGZunWrl3N9dE9XDbMA+yPDVlFztbZOo98ZeWwfYIAn818G6aNwhlBYRHKvv9mwCa2AZD9Rhh2an3nyaIuM7pCVGncaOdXNgKTkhKbydjX3l2BdArAeJ3g5aATbnY7RNcolSqoLgOpS9WXPSacrBMMgg3kmH2XZSAjFq+tVLfUmk15YUdMPfSa+O7oXavYm6NktJeNKjIuZxxBkIQpacc09CufM9mDDE5CCStev2osysk04h+5j7U/AjPjN4cEzvHpvX1YSitGSdjWxiaWq4vxeVVeDneS6hJwTLt7H0QVjBNHVzU=
cache:
  directories:
  - "$HOME/.composer/cache/files"
